<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>LunarisSMP ‚Äî Landing</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800;900&family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
/* -------------------------
   LunarSMP - Epic Landing
   HTML + CSS + JS standalone
   Admin key: 12345 (default)
   ------------------------- */

/* Reset */
:root{
  --bg-1: #071024;
  --bg-2: #071b2e;
  --accent: #ffd54f;
  --accent-2: #7c3aed;
  --muted: #9aa5b1;
  --glass: rgba(255,255,255,0.04);
  --glass-2: rgba(255,255,255,0.02);
  --card: rgba(255,255,255,0.03);
}
*{box-sizing:border-box;margin:0;padding:0}
html,body,#root{height:100%}
body{
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: radial-gradient(1200px 500px at 10% 10%, rgba(124,58,237,0.12), transparent 6%),
              radial-gradient(1000px 400px at 90% 90%, rgba(34,197,94,0.06), transparent 8%),
              linear-gradient(180deg,var(--bg-1),var(--bg-2));
  color: #e6eef6;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow-x:hidden;
}

/* Container */
.container{max-width:1200px;margin:0 auto;padding:28px;}

/* Top navigation */
.nav{
  display:flex;align-items:center;justify-content:space-between;gap:16px;
  padding:18px 6px;
}
.brand{
  display:flex;align-items:center;gap:14px;
}
.logo{
  width:58px;height:58px;border-radius:12px;
  background:linear-gradient(135deg,var(--accent),#ff8a65);
  display:inline-flex;align-items:center;justify-content:center;
  box-shadow:0 6px 24px rgba(0,0,0,0.6), inset 0 -6px 24px rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.06);
}
.logo svg{width:34px;height:34px;filter:drop-shadow(0 6px 18px rgba(0,0,0,0.45));}
.brand h1{font-size:18px;font-weight:800;letter-spacing:0.6px}
.brand p{font-size:11px;color:var(--muted);margin-top:2px}

/* Nav links */
.navlinks{display:flex;gap:12px;align-items:center}
.navlinks a{
  padding:10px 14px;border-radius:10px;color:inherit;text-decoration:none;font-weight:600;font-size:13px;
}
.navlinks a:hover{background:linear-gradient(90deg,rgba(255,255,255,0.04),rgba(255,255,255,0.02));transform:translateY(-3px)}
.join-btn{background:linear-gradient(90deg,var(--accent),#ffb86b);color:#081220;padding:10px 16px;border-radius:12px;font-weight:800;box-shadow:0 10px 30px rgba(255,170,80,0.08);}

/* Hero */
.hero{
  margin-top:18px;border-radius:18px;overflow:hidden;position:relative;
  background-image:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.03);
  box-shadow:0 30px 80px rgba(2,6,23,0.6);
  display:grid;grid-template-columns:1fr 420px;gap:0;align-items:stretch;
  min-height:420px;
}
.hero-left{
  padding:48px 48px 56px 48px;display:flex;flex-direction:column;justify-content:center;gap:18px;
  position:relative;
}
.headline{
  font-size:44px;font-weight:900;line-height:1.02;color:#fff;text-shadow:0 12px 48px rgba(0,0,0,0.6);
}
.sub{
  color:var(--muted);font-size:15px;max-width:760px;margin-top:6px;
}
.hero-cta{display:flex;gap:12px;margin-top:18px;align-items:center}
.btn{
  padding:12px 18px;border-radius:12px;font-weight:800;border:none;cursor:pointer;font-size:14px;
  display:inline-flex;align-items:center;gap:10px;letter-spacing:0.3px;
}
.btn.primary{
  background:linear-gradient(90deg,var(--accent),#ff8a65);color:#071024;box-shadow:0 12px 30px rgba(255,150,60,0.12);
}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--accent);}

/* info card on hero */
.info-card{
  margin-top:18px;padding:16px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:12px;display:flex;align-items:center;gap:12px;border:1px solid rgba(255,255,255,0.03);
}
.info-card .dot{width:12px;height:12px;border-radius:50%;background:linear-gradient(90deg,#66ffa6,#00c2a8);box-shadow:0 8px 18px rgba(0,195,168,0.12)}
.info-card p{font-size:13px;color:var(--muted)}

/* hero-right - server preview */
.hero-right{
  padding:26px;border-left:1px solid rgba(255,255,255,0.02);display:flex;flex-direction:column;gap:12px;align-items:center;justify-content:center;
  background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.02));
}
.server-card{
  width:100%;max-width:340px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:14px;padding:18px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 16px 46px rgba(2,8,23,0.6);
}
.server-card h3{font-size:18px;color:var(--accent);font-weight:800;margin-bottom:6px}
.server-card p{color:var(--muted);font-size:13px}
.server-ip{font-family:monospace;font-weight:800;color:#fff;background:linear-gradient(90deg,#00000020,#ffffff06);padding:8px 10px;border-radius:8px;margin-top:10px;display:inline-block}
.server-stats{display:flex;gap:8px;margin-top:12px}
.stat{background:var(--glass);padding:8px;border-radius:10px;min-width:90px;text-align:center;border:1px solid rgba(255,255,255,0.02)}
.stat strong{display:block;font-size:16px;color:#fff}

/* announcement banner */
.announce{
  margin-top:18px;padding:12px 16px;border-radius:12px;background:linear-gradient(90deg,#ffefc3,#fff3e0);color:#07060a;font-weight:700;border:1px solid rgba(0,0,0,0.06);
  display:flex;gap:12px;align-items:center;justify-content:space-between;
}
.announce small{color:#6b4b00;font-weight:600;font-size:13px}

/* sections */
.section{margin-top:30px;padding:36px;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.02)}
.section h2{font-size:20px;color:var(--accent);font-weight:800;margin-bottom:14px}
.grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
.card{
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 10px 30px rgba(2,8,23,0.5);
}
.card h4{font-weight:800;color:#fff;margin-bottom:8px}
.card p{color:var(--muted);font-size:13px}

/* gallery */
.gallery{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
.thumb{height:120px;border-radius:10px;background-size:cover;background-position:center;border:1px solid rgba(255,255,255,0.03);box-shadow:inset 0 1px 0 rgba(255,255,255,0.02)}

.rules{display:flex;flex-direction:column;gap:8px}
.rule{display:flex;align-items:flex-start;gap:12px;background:var(--glass);padding:10px;border-radius:10px}

/* admin panel modal */
.modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center;z-index:60;backdrop-filter: blur(4px)}
.modal{width:820px;max-width:96%;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.03)}
.form-row{display:flex;gap:10px;margin-top:10px}
.input, textarea{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;font-size:14px;outline:none}
.small{width:160px;flex:0 0 160px}

/* footer */
.footer{margin-top:40px;padding:16px;text-align:center;color:var(--muted);font-size:13px}

/* tiny helpers */
.kv{font-weight:700;color:#fff}
.pulse{animation:pulse 2s infinite}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}100%{transform:scale(1)}}

/* responsive */
@media (max-width:980px){
  .hero{grid-template-columns:1fr;min-height:720px}
  .hero-right{order:2}
  .hero-left{order:1;padding:28px}
  .grid3{grid-template-columns:repeat(1,1fr)}
  .gallery{grid-template-columns:repeat(2,1fr)}
}
@media (max-width:540px){
  .headline{font-size:28px}
  .hero{min-height:640px}
  .logo{width:48px;height:48px}
  .logo svg{width:28px;height:28px}
  .brand h1{font-size:16px}
}
</style>
</head>
<body>
<div class="container">

  <!-- NAV -->
  <div class="nav" role="navigation" aria-label="Main Navigation">
    <div class="brand" title="LunarisSMP">
      <div class="logo" aria-hidden="true">
        <!-- simple moon icon -->
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" fill="#fff" opacity="0.95"/>
        </svg>
      </div>
      <div>
        <h1>LunarisSMP</h1>
        <p>Server SMP ‚Ä¢ 1.21+ ‚Ä¢ 24/7</p>
      </div>
    </div>

    <div class="navlinks" role="menubar">
      <a class="btn ghost" href="#features">T√≠nh nƒÉng</a>
      <a class="btn ghost" href="#gallery">Gallery</a>
      <a class="btn ghost" href="#rules">Quy t·∫Øc</a>
      <a class="btn ghost" href="#events">S·ª± ki·ªán</a>
      <button class="btn primary join-btn" id="joinNow">Tham gia</button>
    </div>
  </div>

  <!-- HERO -->
  <section class="hero" aria-label="Hero">
    <div class="hero-left">
      <div class="headline">Ch√†o m·ª´ng ƒë·∫øn v·ªõi <span style="color:var(--accent)">Lunaris</span>SMP</div>
      <div class="sub">M·ªôt server Minecraft SMP th√¢n thi·ªán, c·∫≠p nh·∫≠t t√≠nh nƒÉng th∆∞·ªùng xuy√™n, kh√¥ng pay-to-win. X√¢y d·ª±ng, kh√°m ph√°, tham gia s·ª± ki·ªán v√† chi·∫øn ƒë·∫•u c√πng c·ªông ƒë·ªìng!</div>

      <div class="hero-cta">
        <button class="btn primary" id="copyIpBtn">üìã Copy IP</button>
        <button class="btn ghost" id="openAdminBtn">üîí Admin</button>
      </div>

      <div class="info-card" style="margin-top:14px;">
        <div>
          <div style="font-weight:800;color:#fff">IP: <span class="server-ip">mbasic7.pikamc.vn:25219</span></div>
          <p style="margin-top:8px">Ch∆°i ngay tr√™n phi√™n b·∫£n <span class="kv">1.21+</span> ‚Ä¢ Ho·∫°t ƒë·ªông <strong>24/7</strong></p>
        </div>
        <div style="margin-left:auto;text-align:right">
          <div style="font-size:12px;color:var(--muted)">Vote ƒë·ªÉ nh·∫≠n th∆∞·ªüng</div>
          <button class="btn primary" style="margin-top:8px" id="voteBtn">Vote</button>
        </div>
      </div>

      <div class="announce" id="announcementBanner" style="margin-top:18px;">
        <div>
          <strong>Th√¥ng b√°o:</strong>
          <small id="announcementText">Ch∆∞a c√≥ th√¥ng b√°o ‚Äî ƒëƒÉng nh·∫≠p Admin ƒë·ªÉ t·∫°o th√¥ng b√°o</small>
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <small style="color:#6b4b00">Server ho·∫°t ƒë·ªông ·ªïn ƒë·ªãnh</small>
        </div>
      </div>
    </div>

    <aside class="hero-right" aria-label="Server Card">
      <div class="server-card">
        <h3>Th√¥ng tin Server</h3>
        <p>B·∫°n c√≥ th·ªÉ k·∫øt n·ªëi ngay b·∫±ng client Minecraft ho·∫∑c copy IP ƒë·ªÉ chia s·∫ª.</p>
        <div class="server-ip" style="margin-top:10px">mbasic7.pikamc.vn:25219</div>

        <div class="server-stats">
          <div class="stat">
            <small style="color:var(--muted)">Tr·∫°ng th√°i</small>
            <strong id="statusDot">ƒêang ki·ªÉm tra</strong>
          </div>
          <div class="stat">
            <small style="color:var(--muted)">Online</small>
            <strong id="playerCount">--</strong>
          </div>
          <div class="stat">
            <small style="color:var(--muted)">Max slot</small>
            <strong id="playerMax">--</strong>
          </div>
        </div>

        <div style="margin-top:14px;display:flex;gap:8px">
          <button class="btn ghost" id="openDiscord">Discord</button>
          <button class="btn ghost" id="openStore">C·ª≠a h√†ng</button>
        </div>
      </div>

      <div style="margin-top:16px;width:100%;max-width:340px">
        <div class="card" style="display:flex;gap:12px;align-items:center">
          <div style="width:52px;height:52px;border-radius:10px;background:linear-gradient(135deg,#00bfa5,#33e0ff);display:flex;align-items:center;justify-content:center;font-weight:800;color:#022;box-shadow:0 8px 24px rgba(3,63,80,0.12)">VIP</div>
          <div>
            <div style="font-weight:800;color:#fff">G√≥i h·ªó tr·ª£</div>
            <div style="color:var(--muted);font-size:13px;margin-top:4px">·ª¶ng h·ªô server ƒë·ªÉ nh·∫≠n perks ƒë·ªôc quy·ªÅn</div>
          </div>
        </div>
      </div>
    </aside>
  </section>

  <!-- FEATURES -->
  <section id="features" class="section" aria-label="Features">
    <h2>T√≠nh nƒÉng n·ªïi b·∫≠t</h2>
    <div class="grid3">
      <div class="card">
        <h4>üå≤ Sinh t·ªìn n√¢ng cao</h4>
        <p>H·ªá th·ªëng kinh t·∫ø, trade, v√† b·∫£o v·ªá land gi√∫p tr·∫£i nghi·ªám sinh t·ªìn tr·ªü n√™n s√¢u s·∫Øc h∆°n.</p>
      </div>
      <div class="card">
        <h4>‚öîÔ∏è PvP c√¢n b·∫±ng</h4>
        <p>H·ªá th·ªëng ƒë·∫•u PvP th√¢n thi·ªán v·ªõi v·∫≠t ph·∫©m c√¢n b·∫±ng, s√¢n ƒë·∫•u v√† x·∫øp h·∫°ng.</p>
      </div>
      <div class="card">
        <h4>üéâ S·ª± ki·ªán th∆∞·ªùng xuy√™n</h4>
        <p>S·ª± ki·ªán h√†ng tu·∫ßn, qu√† v√† leaderboard h·∫•p d·∫´n cho c·ªông ƒë·ªìng t√≠ch c·ª±c.</p>
      </div>
    </div>
  </section>

  <!-- GALLERY -->
  <section id="gallery" class="section" aria-label="Gallery">
    <h2>H√¨nh ·∫£nh server</h2>
    <div class="gallery" id="galleryGrid" aria-hidden="false">
      <div class="thumb" style="background-image:url('https://images.unsplash.com/photo-1521334884684-d80222895322?auto=format&fit=crop&w=800&q=60')"></div>
      <div class="thumb" style="background-image:url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=800&q=60')"></div>
      <div class="thumb" style="background-image:url('https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&w=800&q=60')"></div>
      <div class="thumb" style="background-image:url('https://images.unsplash.com/photo-1526318472351-c75fcf070b6d?auto=format&fit=crop&w=800&q=60')"></div>
      <div class="thumb" style="background-image:url('https://images.unsplash.com/photo-1508873696983-2dfd5898f8e9?auto=format&fit=crop&w=800&q=60')"></div>
      <div class="thumb" style="background-image:url('https://images.unsplash.com/photo-1549880338-65ddcdfd017b?auto=format&fit=crop&w=800&q=60')"></div>
      <div class="thumb" style="background-image:url('https://images.unsplash.com/photo-1503376780353-7e6692767b70?auto=format&fit=crop&w=800&q=60')"></div>
      <div class="thumb" style="background-image:url('https://images.unsplash.com/photo-1536661101316-0c6d5a8b6d3b?auto=format&fit=crop&w=800&q=60')"></div>
    </div>
  </section>

  <!-- RULES -->
  <section id="rules" class="section" aria-label="Rules">
    <h2>Quy t·∫Øc c∆° b·∫£n</h2>
    <div class="rules">
      <div class="rule card"><strong>1.</strong> Kh√¥ng grief ‚Äî t√¥n tr·ªçng khu v·ª±c ng∆∞·ªùi ch∆°i kh√°c.</div>
      <div class="rule card"><strong>2.</strong> Kh√¥ng s·ª≠ d·ª•ng hack/cheat ‚Äî ph√°t hi·ªán s·∫Ω b·ªã ban.</div>
      <div class="rule card"><strong>3.</strong> Kh√¥ng lƒÉng m·∫°, ph√¢n bi·ªát ƒë·ªëi x·ª≠.</div>
      <div class="rule card"><strong>4.</strong> T√¥n tr·ªçng staff v√† tu√¢n theo quy·∫øt ƒë·ªãnh c·ªßa h·ªç.</div>
    </div>
  </section>

  <!-- EVENTS -->
  <section id="events" class="section" aria-label="Events">
    <h2>S·ª± ki·ªán & Tin n√≥ng</h2>
    <div class="card" style="display:flex;flex-direction:column;gap:12px">
      <div>
        <strong>‚Ä¢ S·ª± ki·ªán Khai M·ªü M√πa 2025</strong>
        <p style="color:var(--muted);margin-top:6px">Tham gia ƒë·ªÉ nh·∫≠n ph·∫ßn th∆∞·ªüng gi·ªõi h·∫°n ‚Äî check Discord ƒë·ªÉ bi·∫øt chi ti·∫øt.</p>
      </div>

      <div style="display:flex;gap:10px;flex-wrap:wrap">
        <div style="flex:1;min-width:220px">
          <div style="font-weight:800">S·ª± ki·ªán 1</div>
          <p style="color:var(--muted);margin-top:6px">Treasure Hunt ‚Äî t√¨m kho b√°u tr√™n map v√† nh·∫≠n th∆∞·ªüng.</p>
        </div>
        <div style="flex:1;min-width:220px">
          <div style="font-weight:800">S·ª± ki·ªán 2</div>
          <p style="color:var(--muted);margin-top:6px">PvP Tournament ‚Äî ƒëƒÉng k√Ω ƒë·ªÉ thi ƒë·∫•u.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ADMIN KEY & ADMIN PANEL -->
  <section class="section" aria-label="Admin">
    <h2>Admin ‚Äî Nh·∫≠p m√£ ƒë·ªÉ ch·ªânh th√¥ng b√°o</h2>
    <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center">
      <input id="adminKeyInput" class="input small" placeholder="Nh·∫≠p m√£ Admin (VD: 12345)" aria-label="admin key" />
      <button id="unlockBtn" class="btn primary">M·ªü quy·ªÅn ch·ªânh s·ª≠a</button>
      <div style="flex:1;color:var(--muted);font-size:13px">Sau khi m·ªü, b·∫°n c√≥ th·ªÉ s·ª≠a th√¥ng b√°o hi·ªÉn th·ªã ·ªü banner ph√≠a tr√™n.</div>
    </div>
    <div style="margin-top:12px;color:var(--muted);font-size:13px">L∆∞u √Ω: ƒê√¢y l√† demo admin c·ª•c b·ªô ‚Äî kh√¥ng an to√†n cho m√¥i tr∆∞·ªùng production.</div>
  </section>

  <!-- CONTACT -->
  <section class="section" aria-label="Contact">
    <h2>Li√™n h·ªá & H·ªó tr·ª£</h2>
    <div style="display:flex;gap:18px;flex-wrap:wrap">
      <div style="flex:1;min-width:280px" class="card">
        <h4>Discord</h4>
        <p style="color:var(--muted);margin-top:6px">Tham gia Discord ƒë·ªÉ ƒë∆∞·ª£c h·ªó tr·ª£ nhanh ch√≥ng v√† k·∫øt n·ªëi c·ªông ƒë·ªìng.</p>
        <button class="btn primary" id="discordBtn" style="margin-top:10px">M·ªü Discord</button>
      </div>
      <div style="flex:1;min-width:280px" class="card">
        <h4>G√≥p √Ω</h4>
        <p style="color:var(--muted);margin-top:6px">G·ª≠i √Ω ki·∫øn, b√°o l·ªói, ho·∫∑c y√™u c·∫ßu t√≠nh nƒÉng qua Discord ho·∫∑c email.</p>
        <div style="display:flex;gap:8px;margin-top:10px">
          <input id="feedbackInput" class="input" placeholder="G√≥p √Ω c·ªßa b·∫°n..." />
          <button class="btn ghost" id="sendFeedback">G·ª≠i</button>
        </div>
      </div>
    </div>
  </section>

  <div class="footer">¬© <span id="year"></span> LunarisSMP ‚Äî Built with ‚ù§Ô∏è</div>

</div>

<!-- Modal template (hidden) -->
<div id="modalRoot" style="display:none"></div>

<script>
/* ===========================
   Client-side JS (self-contained)
   - Admin key: 12345 (default)
   - Allows editing announcement, persists to localStorage
   - Fetches server status via api.mcsrvstat.us
   - Handles UI interactions
   =========================== */

(() => {
  // CONFIG
  const ADMIN_KEY = "12345"; // change here if needed
  const DISCORD_URL = "https://discord.gg/umx4j9KS";
  const SERVER_IP = "mbasic7.pikamc.vn";
  const SERVER_PORT = 25219;
  const ANNOUNCEMENT_STORAGE_KEY = "lunaris_announcement_v1";

  // Utils
  const $ = sel => document.querySelector(sel);
  const $$ = sel => document.querySelectorAll(sel);

  // Fill year
  document.getElementById('year').textContent = new Date().getFullYear();

  // Announcement load / save
  function loadAnnouncement(){
    const stored = localStorage.getItem(ANNOUNCEMENT_STORAGE_KEY);
    if(stored){
      $('#announcementText').textContent = stored;
    } else {
      $('#announcementText').textContent = "Ch∆∞a c√≥ th√¥ng b√°o ‚Äî ƒëƒÉng nh·∫≠p Admin ƒë·ªÉ t·∫°o th√¥ng b√°o";
    }
  }
  function saveAnnouncement(txt){
    localStorage.setItem(ANNOUNCEMENT_STORAGE_KEY, txt);
    $('#announcementText').textContent = txt;
  }
  loadAnnouncement();

  // Admin unlock handler
  $('#unlockBtn').addEventListener('click', () => {
    const key = $('#adminKeyInput').value.trim();
    if(!key){
      alert("Nh·∫≠p m√£ admin tr∆∞·ªõc ƒë√£!");
      return;
    }
    if(key === ADMIN_KEY){
      openAdminModal();
    } else {
      // small shake effect
      $('#adminKeyInput').animate([
        { transform: 'translateX(0)' },
        { transform: 'translateX(-8px)' },
        { transform: 'translateX(8px)' },
        { transform: 'translateX(0)' }
      ], { duration: 360, iterations: 1 });
      alert("M√£ kh√¥ng ƒë√∫ng!");
    }
  });

  // Open modal admin panel
  function openAdminModal(){
    const modalHtml = `
      <div class="modal-backdrop" id="adminModal">
        <div class="modal" role="dialog" aria-modal="true" aria-label="Admin panel">
          <h3 style="font-weight:900;color:var(--accent)">Admin Panel ‚Äî Ch·ªânh s·ª≠a th√¥ng b√°o</h3>
          <div style="margin-top:8px;color:var(--muted)">B·∫°n ƒë√£ m·ªü quy·ªÅn admin c·ª•c b·ªô. Ch·ªânh s·ª≠a n·ªôi dung b√™n d∆∞·ªõi v√† b·∫•m L∆∞u.</div>

          <div class="form-row" style="margin-top:12px">
            <input id="adminTitle" class="input small" placeholder="Ti√™u ƒë·ªÅ ng·∫Øn (t√πy ch·ªçn)" />
            <input id="adminColor" class="input small" placeholder="M√†u s·∫Øc (CSS) v√≠ d·ª•: #ffd54f or linear-gradient(...)" />
          </div>

          <div style="margin-top:10px">
            <textarea id="adminContent" rows="4" class="input" placeholder="N·ªôi dung th√¥ng b√°o..."></textarea>
          </div>

          <div style="margin-top:12px;display:flex;gap:10px;justify-content:flex-end">
            <button id="closeAdmin" class="btn ghost">ƒê√≥ng</button>
            <button id="saveAdmin" class="btn primary">L∆∞u & Hi·ªÉn th·ªã</button>
          </div>

          <hr style="margin-top:12px;border:none;border-top:1px solid rgba(255,255,255,0.03)" />

          <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:10px">
            <button id="clearAnnouncement" class="btn ghost">X√≥a th√¥ng b√°o</button>
            <button id="copyAnnouncement" class="btn ghost">Sao ch√©p n·ªôi dung</button>
            <button id="previewAnnouncement" class="btn ghost">Preview</button>
          </div>
        </div>
      </div>
    `;
    const root = $('#modalRoot');
    root.innerHTML = modalHtml;
    root.style.display = "block";

    // Setup existing content
    $('#adminContent').value = localStorage.getItem(ANNOUNCEMENT_STORAGE_KEY) || '';

    // Handlers
    $('#closeAdmin').addEventListener('click', closeAdminModal);
    $('#saveAdmin').addEventListener('click', () => {
      const txt = $('#adminContent').value.trim();
      if(!txt){
        if(!confirm('B·∫°n c√≥ ch·∫Øc mu·ªën l∆∞u m·ªôt th√¥ng b√°o tr·ªëng?')) return;
      }
      saveAnnouncement(txt);
      closeAdminModal();
      flashAnnounce();
    });
    $('#clearAnnouncement').addEventListener('click', () => {
      if(confirm('X√≥a th√¥ng b√°o hi·ªán t·∫°i?')){
        localStorage.removeItem(ANNOUNCEMENT_STORAGE_KEY);
        loadAnnouncement();
      }
    });
    $('#copyAnnouncement').addEventListener('click', () => {
      const txt = localStorage.getItem(ANNOUNCEMENT_STORAGE_KEY) || '';
      navigator.clipboard.writeText(txt).then(()=>alert('ƒê√£ copy th√¥ng b√°o!'));
    });
    $('#previewAnnouncement').addEventListener('click', () => {
      const txt = $('#adminContent').value.trim();
      if(txt){
        $('#announcementText').textContent = txt;
        alert('ƒê√£ preview (ch∆∞a l∆∞u).');
      } else alert('N·ªôi dung tr·ªëng.');
    });
  }

  function closeAdminModal(){
    const root = $('#modalRoot');
    root.innerHTML = '';
    root.style.display = 'none';
    loadAnnouncement();
  }

  function flashAnnounce(){
    const el = $('#announcementBanner');
    el.animate([{ transform:'translateY(0)'},{ transform:'translateY(-8px)'},{transform:'translateY(0)'}], { duration:600 });
  }

  // Copy IP button
  $('#copyIpBtn').addEventListener('click', () => {
    const ip = `${SERVER_IP}:${SERVER_PORT}`;
    navigator.clipboard.writeText(ip).then(()=> {
      const btn = $('#copyIpBtn');
      btn.textContent = '‚úÖ ƒê√£ copy: ' + ip;
      setTimeout(()=> btn.textContent = 'üìã Copy IP', 2600);
    }).catch(()=> alert('Kh√¥ng th·ªÉ copy IP (tr√¨nh duy·ªát kh√¥ng cho ph√©p).'));
  });

  // Vote button
  $('#voteBtn').addEventListener('click', () => {
    alert('C·∫£m ∆°n! Chuy·ªÉn h∆∞·ªõng t·ªõi trang vote (demo).');
  });

  // Discord button
  $('#discordBtn').addEventListener('click', () => {
    window.open(DISCORD_URL, '_blank');
  });

  $('#openDiscord').addEventListener('click', () => {
    window.open(DISCORD_URL, '_blank');
  });

  $('#openStore').addEventListener('click', () => {
    alert('M·ªü c·ª≠a h√†ng (demo).');
  });

  $('#joinNow').addEventListener('click', () => {
    // try to open minecraft protocol
    const proto = `minecraft://${SERVER_IP}:${SERVER_PORT}`;
    window.location.href = proto;
    // fallback
    setTimeout(()=> alert(`N·∫øu client ch∆∞a m·ªü, k·∫øt n·ªëi b·∫±ng IP: ${SERVER_IP}:${SERVER_PORT}`), 800);
  });

  // Feedback send (demo)
  $('#sendFeedback').addEventListener('click', () => {
    const txt = $('#feedbackInput').value.trim();
    if(!txt){ alert('Nh·∫≠p g√≥p √Ω'); return; }
    $('#feedbackInput').value = '';
    alert('C·∫£m ∆°n g√≥p √Ω ‚Äî ƒë√£ g·ª≠i (demo).');
  });

  // Fetch server status (mcsrvstat)
  async function fetchServerStatus(){
    try{
      const res = await fetch(`https://api.mcsrvstat.us/2/${SERVER_IP}:${SERVER_PORT}`);
      const data = await res.json();
      if(data && data.online){
        $('#statusDot').textContent = 'Online';
        $('#statusDot').style.color = '#9ef99e';
        $('#playerCount').textContent = (data.players?.online || 0);
        $('#playerMax').textContent = (data.players?.max || '--');
        // optional: show player avatars (not in hero)
      } else {
        $('#statusDot').textContent = 'Offline';
        $('#statusDot').style.color = '#ff8a8a';
        $('#playerCount').textContent = 0;
        $('#playerMax').textContent = '--';
      }
    }catch(e){
      $('#statusDot').textContent = 'Kh√¥ng th·ªÉ k·∫øt n·ªëi';
      $('#statusDot').style.color = '#ff8a8a';
      $('#playerCount').textContent = '--';
      $('#playerMax').textContent = '--';
    }
  }
  // initial
  fetchServerStatus();
  setInterval(fetchServerStatus, 60_000);

  // Small gallery lazy hover
  document.querySelectorAll('.thumb').forEach((t,i) => {
    t.addEventListener('mouseenter', ()=> t.style.transform='scale(1.03)');
    t.addEventListener('mouseleave', ()=> t.style.transform='scale(1)');
    t.style.transition = 'transform 360ms ease';
  });

  // Keyboard shortcut: press A to open admin (for quick testing)
  document.addEventListener('keydown', (e)=>{
    if(e.key === 'A' || e.key === 'a'){
      const key = prompt('Nh·∫≠p m√£ Admin (ph√≠m t·∫Øt):');
      if(key === ADMIN_KEY) openAdminModal();
      else if(key) alert('M√£ kh√¥ng ƒë√∫ng');
    }
  });

  // friendly console message
  console.log("%cLunarisSMP ‚Äî Developer Console", "color: #ffd54f; font-weight: 900; font-size:14px");
  console.log("Admin key (demo):", ADMIN_KEY);
})();
</script>

</body>
</html>
